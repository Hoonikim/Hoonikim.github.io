---
layout: single
title: "[React] onChange & onClick"
categories: React
tags: [ React, CodeStates]
toc: true

---

### 2022.11.29

### 💡  React State & Props

#### 📌 onChange

```react
<input> <textarea> <select>
```

위와 같은 Form엘리먼트는 사용자의 입력값을 제어하는데 사용된다. React에서는 이러한 **변경될 수 있는 입력값**을 일반적으로 컴포넌트의 **State**로 관리하고 업데이트한다. 

```react
function NameForm() {
  const [name, setName] = useState("");

  const handleChange = (e) => {
    setName(e.target.value);
  }

  return (
    <div>
      <input type="text" value={name} onChange={handleChange}></input>
      <h1>{name}</h1>
    </div>
  )
};
```

**onChange** 이벤트가 발생하면 **e.target.value**를 통해 이벤트 객체에 담겨있는 **input** 값을 읽어올 수 있다. **onChange**는 **input**의 텍스트가 바뀔 때마다 발생하는 이벤트이며 이벤트가 발생하면 **handleChange** 함수가 작동한다.

이벤트 객체에 담긴 **input**값을 **setState**를 통해 새로운 **state**로 갱신한다. 

👨🏻‍💻 select

<img src="https://user-images.githubusercontent.com/104547038/204447115-59997285-72cf-478f-8db0-58a4549a13f0.gif" alt="ezgif com-gif-maker"  />



#### 📌 onClick

**onClick** 이벤트는 말 그대로 사용자가 클릭이라는 행동을 하였을 때 발생하는 이벤트이다. 

```react
function NameForm() {
  const [name, setName] = useState("");

  const handleChange = (e) => {
    setName(e.target.value);
  }

  return (
    <div>
      <input type="text" value={name} onChange={handleChange}></input>
      <button onClick={alert(name)}>Button</button>
      <h1>{name}</h1>
    </div>
  );
};
```

**`onClick`** 이벤트에 **alert(name)** 함수를 바로 호출하면 컴포넌트가 렌더릴 될 때 함수 자체가 아닌 함수 호출의 결과가 **`onClick`**에 적용된다. 때문에 버튼을 클릭할 때가 아닌, 컴포넌트가 렌더링 될 때에 **alert** 가 실행되고 따라서 그 결과인 **undefined** (함수는 리턴 값이 없을 때 undefined 를 반환한다.) 가 **`onClick`** 에 적용되어 클릭했을 때 아무런 결과도 일어나지 않는다. 따라서 **`onClick` **이벤트에 함수를 전달할 때는 함수를 호출하는 것이 아니라 아래와 같이 리턴문 안에서 함수를 정의하거나 리턴문 외부에서 함수를 정의 후 이벤트에 함수 자체를 전달해야 한다.

```react
// 함수 정의하기

return (
  <div>
	...
    <button onClick={() => alert(name)}>Button</button>
	...
  </div>
  );
};

// 함수 자체를 전달하기

const handleClick = () => {
  alert(name);
};

return (
  <div>
      ...
    <button onClick={handleClick}>Button</button>
      ...
  </div>
  );
};
```

