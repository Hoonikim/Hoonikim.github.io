---
layout: single
title: "[Project] 회고 "
categories: Project
tags: [배포, StackOverFlow]
toc: true
published : false

---

###  2023.03.02(금)

처음 프리 프로젝트를 시작한다고 했을 때 나는 잘할 수 있을 거라는 생각을 가지고 프로젝트에 참가했다. 

첫 프로젝트이니만큼 잘해내고 싶다는 생각이 강했다. 하지만 이 생각들은 팀원분들을 만나는 첫 날 달라졌다. 

팀원분들은 스터디나 다른 활동들을 통해 이미 프로젝트 경험이 한 두번 정도는 있는 분들이셨다. 그래서 화면정의서나 사용자 요구사항 정의서 나중에 백엔드 분들과 소통할 때 미리 정해야하는 점, 개발툴, 커밋 방식, 배포방식 등등.. 너무나 자연스럽고 익숙하다는 듯이 이야기를 하시는데 나는 이 사이에서 뭔가 계속해서 작아지는 기분이 들었다. 분명 나또한 배웠던 내용들을 말씀하시는거고 내가 사용해봤던 개발툴을을 이야기하는 건데 괜시리 어색하게 느껴졌고 대화 내용도 솔직히 말해서 잘 이해가 가지 않았다. 하지만 모르는게 있으면 물어보자, 말씀중이시라면 빠르게 검색을 해서라도 알아듣자 라는 나름의 뻔뻔한 생각으로 따라가려 노력했던 것 같다. 괜스레 작아지는 내 모습에 팀장님을 포함해 프론트 팀원분들이 너무나도 고맙게 나를 진심으로 다독이고 칭찬해주셨다. 정말 열심히 해서 이분들을 따라가자 그리고 부족하더라도 내가 맡은바는 끝까지 책임지자는 생각을 무조건적으로 했던 것 같다. 

드디어 시작된 프론트 개발 임무 분담, 크게 나누자면 게시판 CRUD, 재사용컴포넌트, 인증/보안 이렇게 나뉘어졌다. 

재사용컴포넌트는 사전에 분류를 해두었기 때문에 각자 2가지 정도 나누어서 작업한 뒤 Front-dev에 머지하는 것으로 했고 페이지를 나누기로 했는데 다들 로그인,회원가입 부분 즉 인증/보안을 맡기 싫어하셨다. 그래서 내가 맡기로 했다. 다들 기피하고 어려워하는 부분이니 만큼 내가 멋지게 해낸다면 나도 많이 성장할 수 있을 거라고 생각했다. 그리고 나를 믿어주고 다독여주던 팀원분들에게 꼭 보여주고 싶었다

그렇게  로그인, 회원가입, OAuth, Button컴포넌트, Footer컴포넌트 를 담당하게 되었다. JWT를 생각보다 깊이 있게 알고있지 못했고 쿠키나 로컬스토리지도 실제로 다뤄본적이 없어서 걱정이 많이 되었지만 꼼꼼하게 다시 복습하고 공부하면 잘해낼 수 있을 것이라고 자신했다. 

드디어 시작된 나의 첫 개발, 생각보다 무척 순조로웠다 혼자서 이런저런 페이지들을 클론코딩 해보고 주변 사람들에게 내가 만든 것들을 보여주고 싶은 맘에 페이지도 한두번 만들어본게 크게 도움이 되었다. 물론 기능구현은 되지 않는 페이지들이었지만 레이아웃을 짜거나 첫 구조를 잡는데에는 굉장히 도움이 많이 되었던 것 같다. 그리고 여기서 팀장님이 Grid를 써서 레이아웃을 잡자고 하셨어서 Flex만 썻던 내가 Grid를 빠르게 공부해서  레이아웃을 잡아보았다. 

전체적인 큰 틀의 레이아웃을 잡는데에는 Grid가 정말 편하고 좋았다. 세부 컨테이너 , 요소들은 Flex로 짜는게 훨씬 편한 것 같았지만 그래도 Grid로 짜기로 했으니 아직 공부가 부족한가보다 하고 Grid로 좀..힘들게 다 짯다 (알고보니 소통의 오류였다... 큰 틀만 Grid로 ... 근데 뭐 짜긴 잘 짰으니 넘어가기로 했다...) 이 과정에서 프론트 팀원분들이 막 웃으시면서 하룻밤새에 Grid의 장인이 되어 나타났다며 칭찬해주셨다..ㅋㅋㅋㅋ 뿌듯 .. ㅎ

이제 걱정했던 기능 구현이였다. OAuth와 JWT중에 우리는 JWT에 좀 더 중점을 두기로 했었기 때문에 OAuth는 버튼 컴포넌트만 만들어 놓고 회원가입 로그인 구현을 먼저 진행했다. 정말 수많은 레퍼런스를 찾아보고 이전에 공부했던 복습도 하면서 거의 밤새가며 코드를 짯던 것 같다. 

내가 처음 계획했던 것은 서버에서 받아온 JWT를 쿠키로 저장해서 가지고 있다가 로그인이 만료되었들 때 쿠키를 백엔드 서버에 전달하려고 했다. 어차피 access토큰과 refresh토큰을 둘다 백엔드에 보내야 백엔드에서 refresh 토큰을 보고 access토큰을 갱신해서 다시 나에게 보내주기 때문에 이렇게 계획하고 코드를 짯다 하지만 다음날 청천병력같은 소식...진짜 소통의 중요성을 너무 많이 배웠다.. 백엔드 분들이 쿠키 다루는 방법을 아예 안배우셨다고 그 방법은 어려울 것 같다고 하셨다..... 로컬스토리지로 저장하면 분명 편하다 하지만 보안상의 문제가 분명하기 때문에 쿠키로 코드를 작성했는데 ...생각치도 못한 이슈였다. 일단 프리프로젝트이고 회원가입에 개인 정보를 적는것이 없다는 회의 결과 로컬 스토리지로 저장하는 것으로 결정이 났다. (이때는 왜 쿠키를 내가 access토큰과 refresh토큰으로 다시 추출해서 보내겠다는 생각을 못했는지 모르겠다.. ) 이렇게 JWT는 나름의 순조로운? 방식으로 에러 없이 잘 해결했다. 

문제는 OAuth였다. 나도 그렇고 나와 함께 하시는 백엔드분도 그렇게 OAuth 구현은 처음이라 별다른 이야기 없이 서버를 구축하고 나도 레퍼런스들을 보며 코드를 작성했다. 분명 나도 {서버위주}의 OAuth 방식으로 코드를 짯는데 Cors에러가 계속해서 발생했다. 금토일 내내 OAuth 공부하고 코드 수정하고 테스트하고 밤낮없이 반복했다. 내가 OAuth 코드를 약 8번정도 뒤집어 엎었는데 중간중간 commit을 해놓지 않아서 서버에서 아 세훈님! 이전코드로 한번 테스트 해볼까요? 이제 될 것 같아요 라고 했을 때 일일이 다시 짜야했다..commit의 중요성을 진심으로 몸소 느낀 시간들이었다. 결국 {클라이언트}중심의 OAuth로 구현해서 우리쪽 DB에 저장되지 않는 ....모양만 OAuth인걸로 구현했다.. 시간이 정해져있었던 만큼 너무 많은 시간을 쏟았기 때문에 포기하고 모양만 넣고 구글,github 로그인을 하면 로그인 이후 화면으로 넘겨버렸다.. 

내가 해보겠다 할 수 있을 것 같다. 라고 했던 기능이었기에 포기가 정말 쉽지 않았다.. 매일 새벽 3~4시까지 붙잡고 있었던 걸 팀원들 모두가 봐왔기에 다들 나를 위로했지만 난 팀원분들에게 정말 너무 미안했다... 내가 하겠다고 한 일을 못해보이는 건 나에게 정말 큰 스트레스를 준다... 그래도 주어진 시간이 얼마 남지 않았기에 OAuth를 마무리하고나서 로그인 권한으로 넘어가게 되었다. 

로그인 한 사람만 할 수 있는 일들의 기준은 로컬스토리지의 JWT로 체크했고 권한요청들에는 JWT 토큰을 갱신해주는 방식을 사용했다. 하지만 아직 요청 코드를 마무리 하지 못하신 분들이 계셔서 나는 팀원들의 레이아웃을 수정하거나 팀원분들이 맡으신 일들 중에 중요도가 낮다고 판단해서 뒤로 미뤄두셨던 일들을 내가 마무리 했다. 

 팀원들의 기능구현이 마무리되면서 나는 그분들의 코드를 보고 내가 JWT 재발급을 받아와 로컬 스토리지에 저장하는 코드들을 갱신하는 코드를 추가 or 수정했다. 

무척 간단하다고 생각했던 작업이었지만 404error Axios Error가 계속해서 떴다. 서버 쪽의 문제인가? 하면서 서버랑 계속해서 디버깅을 해보는데 내쪽 문제였다 분명 로컬스토리지에는 갱신된 JWT가 들어가져있는데 왜 이 에러가 뜰까? 이 문제는 window.location.href를 사용하니 해결되긴 했지만 삽질을 정말 많이했다. access토큰을 1분으로 설정해놓고 테스트를 해서 그런가 페이지가 리랜더링 되는게 맘에 들지 않아서 다른 방법을 찾아보다가 시간이 너무 촉박해서 팀원분들과 회의 결과 access토큰은 어차피 120분이고 120분 후에 만료되고 보내는 요청일 때만 리랜더링 되는 거니까 사실상 크게 신경쓸 부분이 아닌 거 같다. 분명 더 좋은 방법이 있겠지만 우리에겐 시간이 부족하니 구현해낸 것에 만족하자는 결론이 나왔다. 이렇게 최종적으로 나의 역할이 모두 끝이 났고 이제 배포와 Readme 파일 작성 개발자테스트만 하면 이 프로젝트도 끝이난다. 

2주동안 정말 너무 재밌게 했던 것 같다. 몸은 힘들었지만 나는 진짜 프로젝트 전에 비해서 정말 많이 성장했고 개발도 너무너무너무 재밌었다. 신나게 개발을 하고 시간을 보면 3~4시간씩 지나있고 단 한번도 지루하다고 생각했던 적은 없었던 것 같다. 너무 재미있었고 프로젝트를 해야 실력이 크게 향상된다고 많이 느꼇던 것 같다. 

이제 프리프로젝트에서 경험했던 것을 바탕으로 메인 프로젝트는 더 잘할수 있을거라고 확신한다. 분명 메인 프로젝트 때는 프리프로젝트보다 훨씬 어렵고 복잡한 로직, 다양한 이슈들이 많이 있을 것이다. 하지만 이제는 마냥 작아지지 않을 것 같다. 몹시 기대되고 메인 프로젝트가 끝나고 더 성장해있는 나를 상상하면 기분이 너무 좋아진다. 메인프로젝트도 화이팅 !!!

