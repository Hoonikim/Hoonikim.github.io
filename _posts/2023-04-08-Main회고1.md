---
layout: single
title: "[Project] 메인프로젝트 HelFit 회고"
categories: Project
tags: [배포, Helfit]
toc: true
published : false


---

###  2023.04.08(토)

드디어 메인 프로젝트가 끝이 났다. 비록 기능적으로 완벽한 프로젝트까지는 아니였지만 구상했던 기능들은 모두 구현이 되었고 사소한 에러처리들만 조금 더 신경쓰고 리팩토링을 진행하면 더 좋을 것 같다. 

이번 메인프로젝트는 저번 프리보다는 확실히 시간과 정성이 더 많이 들어갔던 프로젝트인 것 같다. 이유도 이유인게 수강기간동안 배우지 않았던 타입스크립트와 next.js를 사용해서 메인을 진행하자는 의견이 나왔고 나도 흔쾌히 동의했다. 우선 타입스크립트를 써보고 싶었던 이유는 현재 많은 기업에서 타입스크립트로 개발을 하고 있다는 이유가 가장 컸고 그 다음으로 동적타입의 인터프리터 언어인 자바스크립트에 비해 타입스크립트는 정적타입의 컴파일 언어이기 때문에 자바스크립트처럼 런타임에서 에러를 발견하는 것이 아닌 코드 작성 단계에서 타입을 체크해 오류를 확인할 수 있고 타입을 미리 결정하기 때문에 실행 속도가 매우 빠르다는 장점이 있다는 점에서 꼭 한번 사용해보고 싶었다. 

Next.js를 사용한 이유는 SSR으로 구현되어 seo향상에 큰 도움을 준다는 점이였고 라우팅의 용이성 때문에 사용해보자는 이야기가 나왔고 리액트와 크게 다르지 않다고 생각해 나도 흔쾌히 동의했다. 실제로 개발을 하면서도 SSR도 체감했고 라우팅의 용이성도 체감했다. 하지만 제대로 공부하지 않고 진행했던 탓인가 배포를 하고 난 뒤 로컬환경에서는 발생하지 않던 에러들이 마구 발견되기 시작했다. 치명적인 에러들은 아니였지만 대부분은 새로고침을 했을 때 어느 페이지에 있던 Home으로 라우팅 된다는 점이였다. 지금 다시 초기 기획단계로 돌아간다면 우선 정해진 시간이 짧으니까 React로 개발을 하고 Next.js로 리팩토링 해보자고 제안해볼 것 같다. 

TypeScript와 Next.js 새로운 기술을 두 가지나 접목시켜 프로젝트를 진행했기에 개발 시작이 조금 늦게 되었다. 나는 프리때 맡았던 로그인, 회원가입 구현 뿐만아니라 프리때 실패했던 OAuth, 다른 팀원들이 2주간 진행했던 게시판 CRUD 구현을 맡게 되었다.  3주라는 시간동안 기획, 디자인뿐만아니라 이미 좀 늦어버린 개발 기간 내에 프리때 팀으로 진행했던 프로젝트를 혼자서 다 해야한다는 생각에 걱정이 앞섰던 것 같다. 그래도 시간이 지난 지금 생각해보면 내가 쏟을 수 있는 최선의 노력을 펼칠 수 있는 양이였던 것 같아 하기로하길 잘했다고 생각한다. 

로그인 파트는 프리 프로젝트때 해봐서 그런지 굉장히 빠르게 끝냈다. 역시 처음이 어렵지 그래도 한번 해봤다고 금방 해낼 수 있었다. 우리 서비스는 내가 맡은 게시판 파트를 제외하고는 로그인한 유저만 사용이 가능하기 때문에 다른 팀원들이 테스트하기 편하게 하기 위해 JWT로 서버로그인 먼저 열어두었고 이제 나는 프리때 실패했던 OAuth 개발에 돌입했다. 프리때 OAuth 개발에 성공했던 백엔드 팀원분이 계셔서 그분의 도움으로 생각보다 쉽게 해결할 수 있었다. 유저가 OAuth 로그인을 누르면 나는 백엔드에서 알려준 페이지로 라우팅을 해주고 각 회사에서 제공하는 로그인페이지를 통해 유저가 로그인을 하면 백엔드 측해서 URL에 accessToken을 보내준다. 그러면 나는 Params로 accessToken만 잘라서 localStorage에 저장하면 되는 아주 간단한 구조였다. 나는 Next.js를 통해 개발을 하고 있었으니 OAuth 폴더를 만들고 그 아래 [id].tsx를 만들어서 accessToken을 URL로 받은 뒤 로컬스토리지에 저장한 뒤 Home으로 라우팅해주는 로직으로 작성했다. 이렇게 OAuth를 해결했고 구글, 네이버, 카카오 총 세 개의 OAuth 로그인을 구현했다. 

프리때는 백엔드에 get요청으로 accessToken을 얻어와야 한다는 강박에 사로 잡혀 있었던 것 같다. 그래서 계속 Cors 에러가 발생했고 아무 정보도 받아오지 못했던 것이다. 구현에 성공하고 난 뒤 생각보다 간단해서 조금은 허무하기도 했고 이전에 실패했던 작업을 성공할 수 있어서 너무 기뻤다. 

